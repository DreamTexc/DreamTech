<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DreamJump Portal</title>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' https://th.bing.com https://www.slashgear.com https://example.com; script-src 'self' 'nonce-abc123'; style-src 'self' 'nonce-abc123';">
  <style nonce="abc123">
    body { font-family: Arial, sans-serif; }
    .container { width: 50%; margin: auto; padding: 20px; border: 1px solid #ccc; }
    .option { margin: 10px 0; }
    .image-container { margin-top: 20px; display: flex; justify-content: space-between; flex-wrap: wrap; }
    .image-container img { width: 30%; margin: 10px; border: 2px solid #ddd; border-radius: 4px; transition: border-color 0.3s; }
    .image-container img:hover { border-color: #333; }
    .magnifier { position: absolute; border: 3px solid red; border-radius: 50%; cursor: none; width: 100px; height: 100px; background-repeat: no-repeat; background-size: 200% 200%; pointer-events: none; display: none; }
  </style>
</head>
<body>
  <div class="container">
    <h1>DreamJump Portal</h1>
    <a href="https://raw.githubusercontent.com/DreamTexc/DreamTech/refs/heads/main/example.txt" download>Download Example Text File</a>
    <div class="option">
      <button id="loadImagesButton">Load Images</button>
    </div>
    <div id="image-response" class="image-container"></div>
  </div>
  <script nonce="abc123">
    var images = [
      "https://th.bing.com/th/id/OIP.-fEBb2UCfD_LpHr594PP3AHaEo?rs=1&pid=ImgDetMain",
      "https://www.slashgear.com/img/gallery/12-of-the-fastest-fighter-jets-in-the-world-ranked/intro-1692580493.jpg",
      "https://example.com/path-to-your-third-image.jpg"
    ];
    document.getElementById('loadImagesButton').addEventListener('click', loadImages);

    function loadImages() {
      var imageContainer = document.getElementById("image-response");
      imageContainer.innerHTML = ""; // Clear the container
      images.forEach(function(image, index) {
        var imgElement = document.createElement("img");
        imgElement.src = image;
        imgElement.alt = "Image " + (index + 1);
        imgElement.style.width = "100%";
        imgElement.style.maxWidth = "300px";
        imgElement.style.margin = "10px";
        imgElement.setAttribute("id", "image-" + index); // Set an ID for each image
        imgElement.addEventListener("mousemove", function(e) {
          magnify(e.target.id, 2, e);
        });
        imgElement.addEventListener("mouseleave", removeMagnifier);
        imageContainer.appendChild(imgElement);
      });
    }

    function magnify(imgID, zoom, event) {
      var img, glass, w, h;
      img = document.getElementById(imgID);

      /* Check if there's an existing magnifier glass and remove it */
      var existingGlass = document.querySelector(".magnifier");
      if (existingGlass) {
        existingGlass.remove();
      }

      /* Create magnifier glass if it doesn't exist */
      if (!document.querySelector(".magnifier")) {
        glass = document.createElement("DIV");
        glass.setAttribute("class", "magnifier");
        img.parentElement.insertBefore(glass, img);
      } else {
        glass = document.querySelector(".magnifier");
      }

      /* Set background properties for the magnifier glass: */
      glass.style.display = "block";
      glass.style.backgroundImage = "url('" + img.src + "')";
      glass.style.backgroundRepeat = "no-repeat";
      glass.style.backgroundSize = (img.width * zoom) + "px " + (img.height * zoom) + "px";

      w = glass.offsetWidth / 2;
      h = glass.offsetHeight / 2;

      moveMagnifier(event);

      function moveMagnifier(e) {
        var pos, x, y;
        /* Prevent any other actions that may occur when moving over the image */
        e.preventDefault();
        /* Get the cursor's x and y positions: */
        pos = getCursorPos(e);
        x = pos.x;
        y = pos.y;

        /* Check if the cursor is within the image boundaries */
        if (pos.x >= 0 && pos.x <= img.width && pos.y >= 0 && pos.y <= img.height) {
          glass.style.display = "block"; // Show the magnifier glass only over the image
        } else {
          glass.style.display = "none"; // Hide the magnifier glass for other areas
          return;
        }

        /* Prevent the magnifier glass from being positioned outside the image: */
        if (x > img.width - (w / zoom)) {x = img.width - (w / zoom);}
        if (x < w / zoom) {x = w / zoom;}
        if (y > img.height - (h / zoom)) {y = img.height - (h / zoom);}
        if (y < h / zoom) {y = h / zoom;}
        /* Set the position of the magnifier glass: */
        glass.style.left = (x - w) + "px";
        glass.style.top = (y - h) + "px";
        /* Display what the magnifier glass "sees": */
        glass.style.backgroundPosition = "-" + ((x * zoom) - w) + "px -" + ((y * zoom) - h) + "px";
      }

      function getCursorPos(e) {
        var a, x = 0, y = 0;
        e = e || window.event;
        /* Get the x and y positions of the image: */
        a = img.getBoundingClientRect();
        /* Calculate the cursor's x and y coordinates, relative to the image: */
        x = e.pageX - a.left;
        y = e.pageY - a.top;
        /* Consider any page scrolling: */
        x = x - window.pageXOffset;
        y = y - window.pageYOffset;
        return {x : x, y : y};
      }
    }

    function removeMagnifier() {
      var glass = document.querySelector(".magnifier");
      if (glass) glass.style.display = "none";
    }
  </script>
</body>
</html>
